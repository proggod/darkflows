(()=>{var e={};e.id=456,e.ids=[456],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79646:e=>{"use strict";e.exports=require("child_process")},28354:e=>{"use strict";e.exports=require("util")},58381:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>v,serverHooks:()=>y,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>k});var s={};r.r(s),r.d(s,{GET:()=>h,runtime:()=>c});var i=r(42706),n=r(28203),o=r(45994),a=r(39187),p=r(28354),l=r(79646);let u=(0,p.promisify)(l.exec),c="nodejs";async function d(){let{stdout:e}=await u("free -m"),t=e.trim().split("\n"),r=0;for(let e of t)if(e.startsWith("Mem:")){r=parseInt(e.split(/\s+/)[1],10);break}return r}async function f(){let{stdout:e}=await u("lscpu"),t=e.trim().split("\n"),r=0,s="";for(let e of t)e.startsWith("CPU(s):")?r=parseInt(e.split(":")[1].trim(),10):e.startsWith("Model name:")&&(s=e.split(":")[1].trim());return{cpus:r,model:s}}async function m(){try{let{stdout:e}=await u("cat /etc/os-release"),t=e.trim().split("\n"),r="",s="";for(let e of t)e.startsWith("NAME=")?r=e.split("=")[1].replace(/"/g,""):e.startsWith("VERSION=")&&(s=e.split("=")[1].replace(/"/g,""));return{name:r,version:s}}catch(e){return console.error("Failed to get OS info:",e),{name:"Unknown OS",version:""}}}async function x(){let{stdout:e}=await u("ip link"),t=e.trim().split("\n"),r=[];for(let e of t){let t=e.match(/^\d+: ([^:]+):/);t&&"lo"!==t[1]&&r.push({name:t[1]})}for(let e of r)try{let{stdout:t}=await u(`ethtool ${e.name}`),r=t.split("\n").find(e=>e.includes("Speed:"));r?e.speed=r.split(":")[1].trim():e.speed="Unknown"}catch{e.speed="Unknown"}return r}async function h(){try{let[e,t,r,s]=await Promise.all([d(),f(),m(),x()]),i={totalMemMB:e,cpus:t.cpus,cpuModel:t.model,osName:r.name,osVersion:r.version,interfaces:s};return a.NextResponse.json(i)}catch(e){return console.error("Error fetching server info:",e),a.NextResponse.json({error:"Failed to fetch server info"},{status:500})}}let v=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/server-info/route",pathname:"/api/server-info",filename:"route",bundlePath:"app/api/server-info/route"},resolvedPagePath:"/usr/local/darkflows/src/live-ifstat/app/api/server-info/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:w,workUnitAsyncStorage:k,serverHooks:y}=v;function g(){return(0,o.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:k})}},96487:()=>{},78335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,452],()=>r(58381));module.exports=s})();